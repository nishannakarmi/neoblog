{% extends "base.html" %}

{% load static %}

{% block title %}Home{% endblock %}
{% block main %}
    <div class="col-md-8">

        <h1 class="my-4">Latest Blogs</h1>
        {% for blog in blogs %}
        <!-- Blog Post -->
        <div class="card mb-4">
            <img class="card-img-top" src="{{ blog.image.url }}" alt="{{ blog.title|truncatechars:10 }} pic">
            <div class="card-body">
                <h2 class="card-title">{{ blog.title }}</h2>
                <p class="card-text">{{ blog.body }}</p>
                <a href="{% url 'blog_detail' blog.id %}" class="btn btn-primary">Read More &rarr;</a>
            </div>
            <div class="card-footer text-muted">
                Published on {{ blog.published_date }} by
                <a href="#">{{ blog.created_by.username }}</a>
                <div class="align-self-md-auto">
                    <span class="badge badge-success">Likes: {{ blog.get_likes_count }}</span>
                    <span class="badge badge-warning">DisLikes: {{ blog.get_dislikes_count }}</span>
                    <span class="badge badge-primary">Views: {{ blog.views }}</span>
                </div>
            </div>
        </div>
        {% endfor %}

        <!-- Pagination -->
        <div class="pagination justify-content-center mb-4">
           <a class="btn btn-outline-warning" href="{% url 'blogs' %}">More...</a>
        </div>

    </div>
{% endblock %}
